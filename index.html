<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.3">
<meta name="author" content="Schalk Cronjé">
<title>Consuming JVM Libraries</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
<link rel="stylesheet" href="./coderay-asciidoctor.css">
<link rel="stylesheet" href="https://guides.gradle.org/asciidoctor.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700|Source+Code+Pro:500">
<link rel="apple-touch-icon" sizes="180x180" href="https://guides.gradle.org/icon/apple-touch-icon.png">
<link rel="icon" type="image/png" href="https://guides.gradle.org/icon/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://guides.gradle.org/icon/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="https://guides.gradle.org/icon/manifest.json">
<link rel="mask-icon" href="https://guides.gradle.org/icon/safari-pinned-tab.svg" color="#5bbad5">
<link rel="shortcut icon" href="https://guides.gradle.org/icon/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Consuming JVM Libraries">
<meta name="application-name" content="Consuming JVM Libraries">
<meta name="msapplication-config" content="https://guides.gradle.org/icon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<script defer src="https://guides.gradle.org/js/set-time-to-complete-text.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i["GoogleAnalyticsObject"]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,"script","https://www.google-analytics.com/analytics.js","ga");
  ga("create", "UA-4207603-1", "auto");
  ga("send", "pageview");
</script>
</head>
<body class="article toc2 toc-right">
<div id="header"><div style="padding-top: 10px;"><a href="https://guides.gradle.org"><img src="https://guides.gradle.org/gradle-guides.svg" alt=""></a></div><h1>Consuming JVM Libraries</h1>
<div class="details">
<span id="author" class="author">Schalk Cronjé</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#what_you_ll_build">What you&#8217;ll build</a></li>
<li><a href="#what_you_ll_need">What you&#8217;ll need</a></li>
<li><a href="#create_project">Create project</a></li>
<li><a href="#licensing">Licensing</a></li>
<li><a href="#summary">Summary</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This guide demonstrates how to create a Java application which consumes an external library.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what_you_ll_build"><a class="anchor" href="#what_you_ll_build"></a>What you&#8217;ll build</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You&#8217;ll generate a Java application with the standard layout. You will then add a third-party library to your application, build it, test and distribute it.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what_you_ll_need"><a class="anchor" href="#what_you_ll_need"></a>What you&#8217;ll need</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>About <span class="time-to-complete-text"></span></p>
</li>
<li>
<p>A text editor</p>
</li>
<li>
<p>A command prompt</p>
</li>
<li>
<p>The Java Development Kit (JDK), version 1.7 or higher</p>
</li>
<li>
<p>A <a href="https://gradle.org/install">Gradle distribution</a>, version 4.0 or better</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="create_project"><a class="anchor" href="#create_project"></a>Create project</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The first step is to create a folder for the new project and add a <a href="https://docs.gradle.org/4.0/userguide/gradle_wrapper.html#sec:wrapper_generation">Gradle Wrapper</a> to the project.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mkdir consuming-jvm-libraries
$ cd consuming-jvm-libraries
$ gradle wrapper <i class="conum" data-value="1"></i><b>(1)</b>

:wrapper

BUILD SUCCESSFUL</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This allows a version of Gradle to be locked to a project and henceforth you can use <code>./gradlew</code> instead of <code>gradle</code>.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Instead of using the built-in wrapper task, you may wish to use the <code>init</code> task from the <a href="https://docs.gradle.org/4.0/userguide/build_init_plugin.html">Build Init</a> instead. This will create the initial project structure for you. See the <a href="https://guides.gradle.org/building-java-applications">Building Java Applications guide</a> for a detailed explanation of how to do this.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">settings.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">rootProject.name=<span class="string"><span class="delimiter">'</span><span class="content">greeterApp</span><span class="delimiter">'</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">apply plugin : <span class="string"><span class="delimiter">'</span><span class="content">java</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">repositories {
    jcenter() <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">dependencies {
    implementation <span class="string"><span class="delimiter">'</span><span class="content">com.github.lalyos:jfiglet:0.0.8</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
}</code></pre>
</div>
</div>
<div class="listingblock terminal">
<div class="content">
<pre>./gradlew dependencies --configuration implementation <i class="conum" data-value="1"></i><b>(1)</b>

:dependencies

------------------------------------------------------------
Root project
------------------------------------------------------------

implementation - Implementation only dependencies for source set 'main'. (n)
\--- com.github.lalyos:jfiglet:0.0.8 (n)

(n) - Not resolved (configuration is not meant to be resolved)

BUILD SUCCESSFUL in 16s
1 actionable task: 1 executed</pre>
</div>
</div>
<div class="paragraph">
<p><strong>TODO</strong>: Expand on dependencies</p>
</div>
<div class="listingblock">
<div class="title">src/main/java/GreeterApp.java</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.io.IOException</span>;
<span class="keyword">import</span> <span class="include">com.github.lalyos.jfiglet.FigletFont</span>;

<span class="directive">public</span> <span class="type">class</span> <span class="class">GreeterApp</span> {
    <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) <span class="directive">throws</span> <span class="exception">IOException</span> {
        <span class="predefined-type">String</span> asciiArt = FigletFont.convertOneLine(<span class="string"><span class="delimiter">&quot;</span><span class="content">Hello, </span><span class="delimiter">&quot;</span></span> + args[<span class="integer">0</span>]);
        <span class="predefined-type">System</span>.out.println(asciiArt);
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>TODO</strong>:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Due to simplicity of our two line application, we are leaving out testing from this example.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>TODO</strong>:</p>
</div>
<div class="listingblock terminal">
<div class="content">
<pre>./gradlew assemble

:compileJava
Download https://jcenter.bintray.com/com/github/lalyos/jfiglet/0.0.8/jfiglet-0.0.8.pom
Download https://jcenter.bintray.com/org/sonatype/oss/oss-parent/7/oss-parent-7.pom
Download https://jcenter.bintray.com/com/github/lalyos/jfiglet/0.0.8/jfiglet-0.0.8.jar
:processResources NO-SOURCE
:classes
:jar
:startScripts
:distTar
:distZip
:assemble

BUILD SUCCESSFUL in 11s
5 actionable tasks: 5 executed</pre>
</div>
</div>
<div class="paragraph">
<p><strong>TODO</strong>:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">apply plugin : <span class="string"><span class="delimiter">'</span><span class="content">application</span><span class="delimiter">'</span></span> <i class="conum" data-value="1"></i><b>(1)</b>
mainClassName = <span class="string"><span class="delimiter">'</span><span class="content">GreeterApp</span><span class="delimiter">'</span></span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="listingblock terminal">
<div class="content">
<pre>./gradlew build

:compileJava UP-TO-DATE
:processResources NO-SOURCE
:classes UP-TO-DATE
:jar UP-TO-DATE
:startScripts UP-TO-DATE
:distTar UP-TO-DATE
:distZip UP-TO-DATE
:assemble UP-TO-DATE
:compileTestJava NO-SOURCE
:processTestResources NO-SOURCE
:testClasses UP-TO-DATE
:test NO-SOURCE
:check UP-TO-DATE
:build UP-TO-DATE

BUILD SUCCESSFUL in 0s
5 actionable tasks: 5 up-to-date</pre>
</div>
</div>
<div class="paragraph">
<p><strong>TODO:</strong></p>
</div>
<div class="listingblock terminal">
<div class="content">
<pre>./gradlew install

:compileJava
Download https://jcenter.bintray.com/com/github/lalyos/jfiglet/0.0.8/jfiglet-0.0.8.pom
Download https://jcenter.bintray.com/org/sonatype/oss/oss-parent/7/oss-parent-7.pom
Download https://jcenter.bintray.com/com/github/lalyos/jfiglet/0.0.8/jfiglet-0.0.8.jar
:processResources NO-SOURCE
:classes
:jar
:startScripts
:distTar
:distZip
:assemble

BUILD SUCCESSFUL in 11s
5 actionable tasks: 5 executed</pre>
</div>
</div>
<div class="paragraph">
<p><strong>TODO:</strong></p>
</div>
<div class="listingblock terminal">
<div class="content">
<pre>cd build/install/greeterApp
./bin/greeterApp Gradle

Unresolved directive in index.adoc - include::/home/travis/build/gradle-guides/consuming-jvm-libraries/build/reports/runners/gradleRunner/run/out.txt[]</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="licensing"><a class="anchor" href="#licensing"></a>Licensing</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Third-party JVM libraries are released under various licenses. It is important to always check the licenses of the libraries you use, including all of the libraries that are introduced via transitive dependencies, for compatibility.</p>
</div>
<div class="paragraph">
<p>For example the library that you used today is released under <a href="https://www.gnu.org/licenses/gpl-2.0.html">GPL 2.0</a>. This will mean that should you want to release the application you have just built, it will also need to be under GPL 2.0.</p>
</div>
<div class="paragraph">
<p>You can utilise Jeroen van Erp&#8217;s excellent <a href="https://plugins.gradle.org/plugin/com.github.hierynomus.license">License plugin</a> to create a report on the licenses of all of the dependencies of your project.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary"><a class="anchor" href="#summary"></a>Summary</h2>
<div class="sectionbody">

</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2017-06-29 13:20:03 UTC
</div>
</div>
</body>
</html>